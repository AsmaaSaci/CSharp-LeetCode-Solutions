public class Solution {
    public int[] RelativeSortArray(int[] arr1, int[] arr2) {
        
        var dict = new Dictionary<int, int>(); 

        foreach (var num in arr1)
        {
           dict.TryAdd(num, 0);
           dict[num]++;
        }

        var result = new List<int>();  
        for (int i = 0; i < arr2.Length; i++)
        {
            if (dict.ContainsKey(arr2[i]))
            {
                var count = dict[arr2[i]];

                while (count-- > 0)
                {
                    result.Add(arr2[i]);
                }

                dict.Remove(arr2[i]);
            }
        }

        dict = dict.OrderBy(x => x.Key).ToDictionary(x =>x.Key, x => x.Value);
        foreach (var kvp in dict)
        { 
                var count = kvp.Value;

                while (count-- > 0)
                {
                    result.Add(kvp.Key);
                }
           
        }
        return result.ToArray();
    }
}
