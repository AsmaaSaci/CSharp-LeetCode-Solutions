public class Solution {
    private bool IsPrime(long num)
    {
        if(num == 0 || num == 1)
            return false;

        long uplimit = (long)Math.Sqrt(num);

        for (int i = 2; i <= uplimit; i++)
        {
            if (num % i == 0)
                return false;
        }

        return true;
    }

    public long SumOfLargestPrimes(string s) {
         int len = s.Length;
        HashSet<long> visited = new HashSet<long>();
        
        for(int i=0;i<len;i++)
        {
            long num = 0;

            for(int j = i; j<len; j++)
            {
                num = (num*10) + (long) (s[j] - '0');

                if(!visited.Contains(num) && IsPrime(num))
                    visited.Add(num);
            }
        }

        List<long> res = new List<long>(visited.ToList());
        res.Sort();

        int rLen = res.Count;
        long sum = 0;

        for(int i=rLen-1; i>= rLen-3 && i>=0;i--)
        {
            sum = sum+res[i];
        }

        return sum;
    }
}
