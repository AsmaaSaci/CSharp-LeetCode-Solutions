public class Solution {
    private int GCD(int a, int b)
    {
        if(a == b)
            return a;
        else if(a == 0 || b == 0)
            return a |b;
        else if(a > b)
            return GCD(a%b, b);
        else
            return GCD(a, b%a);
    }

    private long LCM(int a, int b)
    {
        long res = (long)a*b;
        return res/GCD(a, b);
    }

    private bool IsValid(long num, long target, long lcm, int[] d, int[] r)
    {
        long rem = num/lcm;
        long rem1 = num/r[0], rem2 = num/r[1];
        return num >= target+rem && num-rem1 >= d[0] && num-rem2 >= d[1];
    }

    public long MinimumTime(int[] d, int[] r) {
        long lcm = LCM(r[0], r[1]);
        long target = (long)d[0]+(long)d[1];
        long low = target, high = long.MaxValue;
        long res = long.MaxValue;

        while(low <= high)
        {
            long mid = low + (high-low)/2;
            if(IsValid(mid, target, lcm, d, r))
            {
                if(mid%lcm == 0)
                    mid--;

                res = mid;
                high = mid-1;
            }
            else
                low = mid+1;
        }

        return res;
    }
}
