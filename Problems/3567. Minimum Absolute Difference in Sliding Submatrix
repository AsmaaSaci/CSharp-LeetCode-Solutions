public class Solution {
    public int[][] MinAbsDiff(int[][] grid, int k) {
        int m = grid.Length, n = grid[0].Length;
        int[][] res = new int[m-k+1][];
        HashSet<int> sample = new();
        for(int i = 0; i <= m-k; i++)
        {
            res[i] = new int[n-k+1];
        }

        for(int i = 0; i <= m-k; i++)
        {
            for(int j = 0; j <= n-k; j++)
            {
                sample.Clear();
                for(int x = i; x < i+k; x++)
                {
                    for(int y = j; y < j+k; y++)
                    {
                        sample.Add(grid[x][y]);
                    }
                }

                List<int> keys = sample.ToList();
                keys.Sort();
                int kLen = keys.Count;
                int minDiff = int.MaxValue;

                for(int q = 1; q < kLen; q++)
                {
                    minDiff = Math.Min(minDiff, keys[q]-keys[q-1]);
                }

                res[i][j] = minDiff == int.MaxValue ? 0 : minDiff;
            }
        }

        return res;
    }
}
