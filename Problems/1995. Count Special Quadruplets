public class Solution {
    public int CountQuadruplets(int[] nums) {

        var values = new int[201];

        var count =0;

        // [1,1,1,3,5]
        // [2, 3, 3, 8, 5, 15]

        values[nums[0] + nums[1]]++;

        for(int j=2; j < nums.Length-1; j++){

            for(int d=j+1; d < nums.Length; d++){

                var sum = nums[d] - nums[j];

                if(sum > 0 && values[sum] > 0){
                    count += values[sum];
                }
            }

            for(int i=0; i < j; i++){

                values[nums[i] + nums[j]]++;
            }

        }

        return count;

    }
}
