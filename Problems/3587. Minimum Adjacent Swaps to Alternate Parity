public class Solution {
    private int CompIds(List<int> ids, int size, int start)
    {
        int res = 0;
        foreach(int curId in ids)
        {
            if(start != curId)
                res += Math.Abs(start-curId);
                
            start += 2;
        }

        return res;
    }

    public int MinSwaps(int[] nums) {
        int len = nums.Length;
        List<int> evenIds = new();
        for(int i = 0; i < len; i++)
        {
            if(nums[i]%2 == 0)
                evenIds.Add(i);
        }

        int diff = Math.Abs(len-evenIds.Count*2);
        if(diff > 1)
            return -1;

        int res = int.MaxValue;
        if(len >= 2*evenIds.Count)
        {
            res = Math.Min(res, CompIds(evenIds, len, 1));
        }

        if(len <= 2*evenIds.Count)
        {
            res = Math.Min(res, CompIds(evenIds, len, 0));
        }

        return res;
    }
}
