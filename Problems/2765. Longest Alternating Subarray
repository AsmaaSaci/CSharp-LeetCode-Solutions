public class Solution {
    public int AlternatingSubarray(int[] nums) {
        int len = 0, maxLen = 0, sub = 0, prevSub = 0;
        for(int i = 0; i < nums.Length - 1; i++)
        {
            if(len == 0)
            {
                if(nums[i + 1] == nums[i] + 1) // new alternating subarray
                {
                    prevSub = 1; // subtraction
                    len = 2;
                    maxLen = Math.Max(len, maxLen);
                }
            }else {  // len > 0
                sub = nums[i + 1] - nums[i];
                if(sub == -prevSub)
                {
                   prevSub *= -1;
                   len += 1;
                   maxLen = Math.Max(len, maxLen);
                }else {
                   if(sub == 1)
                   {
                        prevSub = 1; 
                        len = 2;
                   }else{
                        prevSub = 0; 
                        len = 0;
                   }
                }
            }
        }
        return maxLen == 0 ? -1 : maxLen;
    }
}
