public class Solution 
{
    static private string ReverseString(string str)
    {
        Span<char> stackStr = stackalloc char[str.Length];
    
        for (int i = 0; i < str.Length; i++)
        {
            stackStr[i] = str[str.Length-1-i];
        }
        return new string(stackStr);
    }

    static private int GetVowelCount(string word)
    {
        int count = 0;

        foreach (var ch in word)
        {
            if (ch == 'a' || ch == 'e' || ch == 'i' || ch == 'o' || ch == 'u')
                count++;
        }
        return count;
    }
    
    public string ReverseWords(string s) 
    {
        string[] words = s.Split(' ');
        int mainCount = GetVowelCount(words[0]);
        int vowelCount = 0;

        for (int i = 1; i < words.Length; i++)
        {
            vowelCount = GetVowelCount(words[i]);

            if (mainCount == vowelCount)
                words[i] = ReverseString(words[i]);
        }
        return string.Join(' ', words);
    }
}
