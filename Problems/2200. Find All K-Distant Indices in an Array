public class Solution {
    public IList<int> FindKDistantIndices(int[] nums, int key, int k) {
        List<int> result = new List<int>();

        int ptr1 = 0;
        int ptr2 = 0;

        while (ptr2 < nums.Length)
        {
            if ((nums[ptr1] != key || (Math.Abs(ptr2 - ptr1) > k && ptr2 > ptr1)) && ptr1 < nums.Length - 1)
            {
                ptr1++;
            }

            if (nums[ptr1] == key)
            {
                if (Math.Abs(ptr2 - ptr1) <= k)
                {
                    result.Add(ptr2);
                }

                ptr2++;
            }
            else if (nums[ptr1] != key && ptr1 == nums.Length - 1)
            {
                return result;
            }
        }

        return result;
    }
}
